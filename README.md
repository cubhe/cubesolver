# cubesolver
这个项目提供一个魔方从视觉识别到求解过程再到通过串口发送给单片机的方案。
***
大二下学期(2018.5)做的魔方机器人，说要开源一直鸽到大四(2019.9)。不过终于有空了,稍微整理了一下放上来了。其实最难的部分还是需要一个精密的机械结构。此外代码全部是在Windows系统下用C++写的，视觉部分用到了opencv库。其他就没有别的依赖库了。

如果你使用代码时有任何疑问欢迎与我沟通~ 一起促进项目的发展！ 此外该项目遵循GPLv3.0协议，使用时需要注意下。

[视频点击这里](https://www.bilibili.com/video/av39119098?share_medium=android&share_source=copy_link&bbid=062C94C7-71EB-4C64-B933-F3DBE0F89912101704infoc&ts=1545876742959)
***
## 2019/9/16 小贺又回来了，决定继续写完代码了！


## 求解算法部分

开发环境是win10＋VS2017

我使用的是kociemba算法 这个算法可以算出一个在21步左右的稳定的解。具体原理请参考[该链接](http://kociemba.org/download.htm)

GitHub上有cs大佬写的min2phase写的双臂的二阶段算法 十分强！编程能力厉害一点的同学可以去搜搜

Tip.在使用的时候需要注意自己电脑的系统和编译器的版本。

## 视觉算法：

开发环境是win10＋VS2017   opencv3.4 is also required

1. 调用两个摄像头分别读取三个面
2. 图像预处理 直方图均衡化 模糊
3. 手动分割并提取RGBHSV六个值的平均值 这样三个面会有 27*6个值

4. 调用opencv ml库里面的SVM 预测值并返回（需要提前训练好模型）
5. 对收集的颜色进行三次检测 分别是总颜色 每个单独的颜色 以及魔方色块
6. 输出收集的颜色



## 单片机部分

使用的是Arduno mega2560 使用C++开发 总之很简单

重复使用的部分最好写成函数！不然代码看起十分ugly
